<!DOCTYPE html>
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <script src="dist/bundle.js"></script>
  <style>
    body {
      margin: 0px;
      background: aquamarine;
    }
    hr {
      border-style: dashed;
    }
    pre {
      overflow-wrap: break-word;
      overflow: auto;
    }
    div {
      overflow-wrap: break-word;
      text-align: left;
    }
    a {
      text-decoration: none;
      // color: fuchsia;
    }
a:link {
  color: purple;
}

a:hover {
  color: fuchsia;
}

a:active {
  color: green;
}

a.tag {
	background-color: #fffcd7;
	border: 1px solid #d5d458;
	border-radius: 5px;
	color: #555;
	font-size: 10pt;
	margin-left: 0.25em;
	padding: 0px 0.4em 1px 0.4em;
	text-decoration: none;
	vertical-align: text-top;
}

    #main {
      min-width: 300px;
    }
    #topbar {
      display: block;
    }
    .doc {
      display: none;
      color: grey;
      text-align: left;
      font-size: 11.5pt;
      font-weight: bold;
      font-family: "Dejavu Sans", "helvetica neue", aria, sans-serif;
      background: white;
      border-width: thin;
      // border-color: black;
      // border-style: solid;
      border-radius: 1em;
      margin-left: 1em;
      margin-right: 1em;
      padding-top: 1em;
      padding-bottom: 1em;
      padding-left: 3em;
      padding-right: 3em;
      margin-top: 1em;
      margin-bottom: 1em;
      // box-shadow: 3px 3px 13px 0px black;
    }
    #controller{
      display: none;
    }
    .auth {
      background: #5ec2e7;
    }
    .noauth {
      background: #bada55;
    }
    .agent {
      background: white;
      border-width: thin;
      // border-color: black;
      // border-style: solid;
      position: relative;
      border-radius: 1em;
      margin-left: 1em;
      margin-right: 1em;
      margin-top: 1em;
      margin-bottom: 1em;
      padding: 1em;
      // box-shadow: 3px 3px 13px 0px black;
    }
    .agent-left{
      float: left;
      position: absolute;
      border-color: gray;
      border-right-style: dashed;
      font-family: "Dejavu Sans", "helvetica neue", aria, sans-serif;
      border-width: thin;
      top: 0px;
      bottom: 0px;
      width: 2em;
      left: 0px;
      border-bottom-left-radius: 1em;
      border-top-left-radius: 1em;
      // background-color: peachpuff;
      // background: #bada55;
      text-align: center;
      padding-top: 1.5em;
      padding-bottom: 1.5em;
    }
    .agent-right{
      margin-left: 2em;
    }
    .agent-topbar{
      font-family: "Dejavu Sans Mono", "helvetica neue", aria, sans-serif;
      font-size: 11.5pt;
      font-weight: bold;
      line-height: 1.45em;
      // margin-bottom: 0.55em;
    }
    .agent-midbar{
      font-family: "Dejavu Sans Mono", "helvetica neue", aria, sans-serif;
      font-size: 11.5pt;
      font-weight: bold;
      line-height: 1.45em;
      margin-bottom: 0.55em;
    }
    .agent-subbar{
      font-family: "Dejavu Sans", "helvetica neue", aria, sans-serif;
      font-size: 10.5pt;
      line-height: 0.85em;
      color: #888;
    }
    .legend {
      width: 2em;
      height: 2em;
      background: black;
    }

.foo {
  float: left;
  width: 20px;
  height: 20px;
  margin: 5px;
  border: 1px solid rgba(0, 0, 0, .2);
}

.bar {
  float: left;
  // width: 8em;
  height: 20px;
  margin: 5px;
  // border: 1px solid rgba(0, 0, 0, .2);
}

.badass {
  background: #bada55;
}

.secret {
  background: #5ec2e7;
}

.foobar {
  position: relative;
  min-width: 15em;
  max-width: 18em;
  width: 40%;
  float: left;
  margin-left: 1em;
}

fieldset {
// border-style: solid;
border-radius: 1em;
border-color: pink;
margin-bottom: 1em;
}

  </style>
 </head>
 <body>
  <div id="main">
    <div id="controller">
      <input id="api" value="https://libredot.com"></input>
      <button id="list">List</button>
      <button id="watch">Watch</button>
    </div>
    <div id="view">

      <div class="doc" id="topbar">
          <a href='#' onclick="toggle('story')">Story</a> 
        | <a href='#' onclick="toggle('download')">Download</a>
        | <a href='#' onclick="toggle('examples')">Examples</a>
        | <a href='#' onclick="toggle('meaning-of-colors')">Meaning of colors</a> 
        | <a href='#' onclick="toggle('stats')")>Stats</a>
        | <a href='#' onclick="toggle('about')")>About</a>
        <!-- | <a href='#' onclick="toggle('how-it-works')">How it works</a> -->
      </div>

      <div class="doc" id="story" style="display: block;">
        <h1>ConnTroll</h1>

        <hr>

        <h2>What is ConnTroll?</h2>
        <p>ConnTroll was a tool initially designed to control my ThinkPads at home from work. </p>
        <p>It helped a lot until lately the company I worked for went out of business during the trade war. Consequently I'm out of work, which makes ConnTroll less useful to me than to other comrades. That's the background why I decided to polish and publish it.</p>

        <hr>

        <h2>What does it do?</h2>
        <p>Common use cases include:</p>
	<ul>
          <li>control home computer from work</li>
          <li>access terminal and files behind NAT</li>
          <li>stream container logs to browser in real time</li>
	</ul>
        <p>Please note that the development of ConnTroll is still in an early stage, some of the features may be incomplete or totally disfunctional. Misconfiguration of the tool may lead to your personal data being leaked or your system being compromised. Use it at your own risk.</p>

        <hr>

        <h2>Who is it for?</h2>
        <p>Intelligent comrades</p>

        <hr>

        <h2>How do I use it?</h2>
        <p>See the #Examples section</p>
      </div>

      <div class="doc" id="download">
        <h2>Download</h2>
        <p>find below a container named download@conntroll</p>
      </div>

      <div class="doc" id="examples">
        <h2>Examples</h2>
        <h3>Run on your host</h3>
        <p>Although I used to do so, running conntroll directly on your host is strongly discoraged, unless you know what you are doing</p>
        <h3>Run inside a container</h3>
	<pre>
$ docker run conntroll/agent 
$ docker run conntroll/agent:arch
$ docker run conntroll/agent:ubuntu
$ docker run conntroll/agent:alpine
$ docker run conntroll/agent:gentoo
$ docker run conntroll/agent:fedora
$ docker run conntroll/agent:debian

$ docker run -v /dir/to/share:/public -w /public conntroll/agent 
</pre>
      </div>

      <div class="doc" id="how-it-works">
        <h2>How it works</h2>
        <p>There are three parties involved: hub, agent, and client</p>
      </div>

      <div class="doc" id="meaning-of-colors">
        <h2>Meaning of colors</h2>
	<fieldset>
	  <legend>Legend</legend>
	  <div class="foobar">
	    <div class="foo secret"></div>
	    <label class="bar" for="mothman"> #5EC2E7 Basic Auth</label>
	  </div>
	  <div class="foobar">
	    <div class="foo badass"></div>
	    <label class="bar" for="sasquatch"> #BADA55 No Auth</label>
	  </div>
	</fieldset>
      </div>

      <div class="doc" id="about">
        <h2>About</h2>
        <p>Email: navigaid@gmail.com</p>
        <p>Wechat: navigaid</p>
        <p>GitHub: https://github.com/btwiuse/conntroll</p>
      </div>

      <div class="doc" id="stats"></div>

      <div id="agents"></div>

    </div>
  </div>
 </body>
  <script>
// function toggleElementVisibilityById(id){
function toggle(id){
  elem = document.getElementById(id);
  disp = elem.style.display;
  if (disp != "block") {
    elem.style.display = "block";
    setCookie("prevtab", id, 7)
  } else {
    elem.style.display = "";
  }
  ["story", "download", "examples", "meaning-of-colors", "stats", "about"].forEach((e)=>{ // "how-it-works", 
    if (e != id) {
      document.getElementById(e).style.display="";
    }
  });
}
// https://stackoverflow.com/questions/14573223/set-cookie-and-get-cookie-with-javascript
function setCookie(name,value,days) {
    var expires = "";
    if (days) {
        var date = new Date();
        date.setTime(date.getTime() + (days*24*60*60*1000));
        expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (value || "")  + expires + "; path=/";
}
function getCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}
function eraseCookie(name) {   
    document.cookie = name+'=; Max-Age=-99999999;';  
}
var tab = getCookie("prevtab");
if (tab) {
  toggle(tab)
}
  </script>
</html>
